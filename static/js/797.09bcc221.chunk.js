"use strict";(self.webpackChunkspirify=self.webpackChunkspirify||[]).push([[797],{2797:function(t,e,n){n.r(e),n.d(e,{default:function(){return b}});var r=n(4165),a=n(5861),i=n(9439),s=n(2791),c=n(7689),o=n(3263),u=n(3655),l=n(4996),d=n(7174),p=n(2339),f=n(9004),h=n(8570),m={attractionDetail:"AttractionDetailPage_attractionDetail__DpJNn","ant-descriptions-item-label":"AttractionDetailPage_ant-descriptions-item-label__pnRYd","ant-descriptions-item-content":"AttractionDetailPage_ant-descriptions-item-content__rgWIZ",imageContainer:"AttractionDetailPage_imageContainer__kYVoB",tagContainer:"AttractionDetailPage_tagContainer__tGARz"},v=n(9228),Z=n(1873),x=n(8788),g=n(184),b=function(){var t=(0,c.UO)().id,e=(0,s.useState)(null),n=(0,i.Z)(e,2),b=n[0],y=n[1],j=(0,v.e)((null===b||void 0===b?void 0:b.image)||""),I=j.src,A=j.style,k=(0,c.s0)(),w=(0,s.useContext)(x.V).username;if((0,s.useEffect)((function(){var e=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.Z.getAttraction(t);case 3:n=e.sent,y(n),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();e()}),[t]),!b)return(0,g.jsx)("div",{children:"Loading..."});var D=function(){var e=(0,a.Z)((0,r.Z)().mark((function e(){return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,Z.Z.deleteAttraction(t);case 3:o.ZP.success("Attraction deleted successfully!"),setTimeout((function(){k("/dashboard/attraction")}),1e3),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),o.ZP.error("Failed to delete attraction!"),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return(0,g.jsxs)("div",{className:m.attractionDetail,children:[(0,g.jsx)(u.Z.Title,{children:b.name}),b.image&&(0,g.jsx)("div",{className:m.imageContainer,children:(0,g.jsx)(l.Z,{className:m.cardImage,alt:t,src:I,style:A})})," ",(0,g.jsx)(u.Z.Paragraph,{children:b.overview}),(0,g.jsx)(h.D,{children:b.description||""}),(0,g.jsxs)(d.Z,{children:[b.address&&(0,g.jsxs)(d.Z.Item,{label:"Address",children:[b.address.street,", ",b.address.city,","," ",b.address.country]}),b.price&&(0,g.jsx)(d.Z.Item,{label:"Price",children:b.price}),b.openingDate&&(0,g.jsx)(d.Z.Item,{label:"Opening Date",children:b.openingDate}),b.location&&(0,g.jsx)(d.Z.Item,{label:"Location",children:b.location}),b.category&&(0,g.jsx)(d.Z.Item,{label:"Category",children:(0,g.jsx)("div",{className:m.tagContainer,children:b.category.split(",").map((function(t,e){return(0,g.jsx)(p.Z,{color:"blue",children:t.trim()},e)}))})}),b.targetAudience&&(0,g.jsx)(d.Z.Item,{label:"Audience",children:(0,g.jsx)("div",{className:m.tagContainer,children:b.targetAudience.split(",").map((function(t,e){return(0,g.jsx)(p.Z,{color:"blue",children:t.trim()},e)}))})}),b.publisherName&&(0,g.jsx)(d.Z.Item,{label:"Publisher",children:b.publisherName}),b.publisherId&&(0,g.jsx)(d.Z.Item,{label:"Publisher ID",children:b.publisherId})]}),w&&w===b.publisherName&&(0,g.jsx)(f.ZP,{danger:!0,onClick:D,children:"Delete Attraction"})]})}},1873:function(t,e,n){var r=n(4165),a=n(5861),i=n(5671),s=n(3144),c=n(4432),o=function(){function t(){(0,i.Z)(this,t),this.axiosInstance=void 0,this.axiosInstance=c.Z.getInstance().getAxiosInstance()}return(0,s.Z)(t,[{key:"addAttraction",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axiosInstance.post("/api/attraction/add",e);case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"getAttraction",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axiosInstance.get("/api/attraction/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()},{key:"deleteAttraction",value:function(){var t=(0,a.Z)((0,r.Z)().mark((function t(e){var n;return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,this.axiosInstance.delete("/api/attraction/".concat(e));case 2:return n=t.sent,t.abrupt("return",n.data);case 4:case"end":return t.stop()}}),t,this)})));return function(e){return t.apply(this,arguments)}}()}]),t}(),u=new o;e.Z=u},9228:function(t,e,n){n.d(e,{e:function(){return c}});var r=n(9439),a=n(2791);var i=n.p+"static/media/image-loading.a1ede781901e70477fd231f8fa9f4e60.svg";var s=n.p+"static/media/image-error.ee54a1d3b05048f38768264ffbf6f55b.svg",c=function(t){var e=(0,a.useState)(i),n=(0,r.Z)(e,2),c=n[0],o=n[1],u=(0,a.useState)({opacity:0,transition:"opacity 2s ease-in-out"}),l=(0,r.Z)(u,2),d=l[0],p=l[1];return(0,a.useEffect)((function(){var e=new Image;e.src=t,e.onload=function(){o(t),p({opacity:1,transition:"opacity 0.5s ease-in-out"})},e.onerror=function(){o(s),p({filter:"grayscale(100%)",transition:"filter 0.5s ease-in-out"})}}),[t]),{src:c,style:d}}}}]);
//# sourceMappingURL=797.09bcc221.chunk.js.map