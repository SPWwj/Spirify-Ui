(self.webpackChunkspirify=self.webpackChunkspirify||[]).push([[1127],{1139:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return k}});var o=n(9439),r=n(7313),a=n(4268).Z,i=n(6297).Z,c=n(2570),s=n(5233),l=n(7343),u=n.n(l),d=(n(593),n(8656),n(6417));u().config.set("basePath","/static/js");var g=function(e){var t=e.ssml,n=e.onSSMLChange,o=e.formatSSML;return(0,d.jsxs)("div",{style:{position:"relative",border:"1px solid #F8F8F2",borderRadius:"15px",overflow:"hidden"},children:[(0,d.jsx)(c.ZP,{width:"100%",mode:"xml",theme:"chaos",onChange:n,value:t,name:"ssml-editor",setOptions:{maxLines:20},editorProps:{$blockScrolling:!0}}),(0,d.jsx)(s.ZP,{style:{position:"absolute",bottom:"20px",right:"30px",backgroundColor:"#272822",borderColor:"#F8F8F2",color:"#F8F8F2",border:"1px solid #F8F8F2"},onClick:function(){n(o(t,80))},children:"Format"})]})},m=n(1601),f=n(1542),h=n(1287),p=n(9548),x=function(e){var t=e.ssml;return(0,d.jsx)(s.ZP,{onClick:function(){var e=new SpeechSynthesisUtterance;e.text=t,window.speechSynthesis.speak(e)},children:"Preview"})},v=function(e){var t=e.ssml,n=(0,r.useState)(!1),a=(0,o.Z)(n,2),i=a[0],c=a[1],s=(0,r.useState)(""),l=(0,o.Z)(s,2),u=l[0],g=l[1],v=(0,d.jsx)("img",{src:"/path/to/avatar.png",alt:"avatar",onError:function(){return c(!0)}});return(0,r.useEffect)((function(){var e=(new DOMParser).parseFromString(t,"text/xml"),n=Array.from(e.querySelectorAll("*")).filter((function(e){return 0===e.childElementCount})).map((function(e){return e.textContent})).join(" ");g(n)}),[t]),(0,d.jsx)(m.Z,{cover:(0,d.jsx)("div",{style:{display:"flex",justifyContent:"center",marginTop:"5px"},children:(0,d.jsx)(f.C,{size:64,icon:i?(0,d.jsx)(p.Z,{}):v})}),actions:[(0,d.jsx)(x,{ssml:t})],children:(0,d.jsx)(h.Z.Paragraph,{style:{padding:12},children:u})})};function b(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:2,o=[],r="",a="";return e.split(/(<[^>]*>)/g).filter((function(e){return e.trim().length>0})).forEach((function(e){e.startsWith("<")?(r.trim().length>0&&o.push(r),e.startsWith("</")&&(a=a.slice(0,-n)),r=a+e,e.startsWith("</")||e.endsWith("/>")||e.endsWith("?>")||(a+=" ".repeat(n))):e.trim().split(/\s+/).forEach((function(e){(r+" "+e).length>t?(o.push(r),r=a+e):r+=" "+e}))})),r.trim().length>0&&o.push(r),o.join("\n")}var k=function(){var e=(0,r.useState)(b('\n\t<?xml version="1.0"?>\n\t<speak version="1.0" \n\t\txmlns="http://www.w3.org/2001/10/synthesis"\n\t\txml:lang="en-US">\n\t<voice name="en-US-LisaNeural">\n\t\t<prosody rate="medium">\n\t\t<p>\n\t\t\tHello there! I\'m a virtual assistant. I can assist you with a wide variety of tasks, like setting reminders, answering questions, or controlling smart home devices.\n\t\t</p>\n\t\t<p>\n\t\t\t<emphasis level="strong">Can I help you with anything today?</emphasis>\n\t\t</p>\n\t\t</prosody>\n\t</voice>\n\t</speak>',80)),t=(0,o.Z)(e,2),n=t[0],c=t[1];return(0,d.jsx)("div",{children:(0,d.jsxs)(a,{gutter:[16,16],style:{marginTop:"10px"},children:[(0,d.jsx)(i,{xs:24,md:12,children:(0,d.jsx)(g,{ssml:n,onSSMLChange:c,formatSSML:b})}),(0,d.jsx)(i,{xs:24,md:12,style:{margin:"auto"},children:(0,d.jsx)(v,{ssml:n})})]})})}},1829:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o=n(7462),r=n(7313),a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M563.8 512l262.5-312.9c4.4-5.2.7-13.1-6.1-13.1h-79.8c-4.7 0-9.2 2.1-12.3 5.7L511.6 449.8 295.1 191.7c-3-3.6-7.5-5.7-12.3-5.7H203c-6.8 0-10.5 7.9-6.1 13.1L459.4 512 196.9 824.9A7.95 7.95 0 00203 838h79.8c4.7 0 9.2-2.1 12.3-5.7l216.5-258.1 216.5 258.1c3 3.6 7.5 5.7 12.3 5.7h79.8c6.8 0 10.5-7.9 6.1-13.1L563.8 512z"}}]},name:"close",theme:"outlined"},i=n(7469),c=function(e,t){return r.createElement(i.Z,(0,o.Z)({},e,{ref:t,icon:a}))};var s=r.forwardRef(c)},593:function(e,t,n){e=n.nmd(e),ace.define("ace/mode/xml_highlight_rules",["require","exports","module","ace/lib/oop","ace/mode/text_highlight_rules"],(function(e,t,n){"use strict";var o=e("../lib/oop"),r=e("./text_highlight_rules").TextHighlightRules,a=function e(t){var n="[_:a-zA-Z\xc0-\uffff][-_:.a-zA-Z0-9\xc0-\uffff]*";this.$rules={start:[{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\[",next:"cdata"},{token:["punctuation.instruction.xml","keyword.instruction.xml"],regex:"(<\\?)("+n+")",next:"processing_instruction"},{token:"comment.start.xml",regex:"<\\!--",next:"comment"},{token:["xml-pe.doctype.xml","xml-pe.doctype.xml"],regex:"(<\\!)(DOCTYPE)(?=[\\s])",next:"doctype",caseInsensitive:!0},{include:"tag"},{token:"text.end-tag-open.xml",regex:"</"},{token:"text.tag-open.xml",regex:"<"},{include:"reference"},{defaultToken:"text.xml"}],processing_instruction:[{token:"entity.other.attribute-name.decl-attribute-name.xml",regex:n},{token:"keyword.operator.decl-attribute-equals.xml",regex:"="},{include:"whitespace"},{include:"string"},{token:"punctuation.xml-decl.xml",regex:"\\?>",next:"start"}],doctype:[{include:"whitespace"},{include:"string"},{token:"xml-pe.doctype.xml",regex:">",next:"start"},{token:"xml-pe.xml",regex:"[-_a-zA-Z0-9:]+"},{token:"punctuation.int-subset",regex:"\\[",push:"int_subset"}],int_subset:[{token:"text.xml",regex:"\\s+"},{token:"punctuation.int-subset.xml",regex:"]",next:"pop"},{token:["punctuation.markup-decl.xml","keyword.markup-decl.xml"],regex:"(<\\!)("+n+")",push:[{token:"text",regex:"\\s+"},{token:"punctuation.markup-decl.xml",regex:">",next:"pop"},{include:"string"}]}],cdata:[{token:"string.cdata.xml",regex:"\\]\\]>",next:"start"},{token:"text.xml",regex:"\\s+"},{token:"text.xml",regex:"(?:[^\\]]|\\](?!\\]>))+"}],comment:[{token:"comment.end.xml",regex:"--\x3e",next:"start"},{defaultToken:"comment.xml"}],reference:[{token:"constant.language.escape.reference.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],attr_reference:[{token:"constant.language.escape.reference.attribute-value.xml",regex:"(?:&#[0-9]+;)|(?:&#x[0-9a-fA-F]+;)|(?:&[a-zA-Z0-9_:\\.-]+;)"}],tag:[{token:["meta.tag.punctuation.tag-open.xml","meta.tag.punctuation.end-tag-open.xml","meta.tag.tag-name.xml"],regex:"(?:(<)|(</))((?:"+n+":)?"+n+")",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start"}]}],tag_whitespace:[{token:"text.tag-whitespace.xml",regex:"\\s+"}],whitespace:[{token:"text.whitespace.xml",regex:"\\s+"}],string:[{token:"string.xml",regex:"'",push:[{token:"string.xml",regex:"'",next:"pop"},{defaultToken:"string.xml"}]},{token:"string.xml",regex:'"',push:[{token:"string.xml",regex:'"',next:"pop"},{defaultToken:"string.xml"}]}],attributes:[{token:"entity.other.attribute-name.xml",regex:n},{token:"keyword.operator.attribute-equals.xml",regex:"="},{include:"tag_whitespace"},{include:"attribute_value"}],attribute_value:[{token:"string.attribute-value.xml",regex:"'",push:[{token:"string.attribute-value.xml",regex:"'",next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]},{token:"string.attribute-value.xml",regex:'"',push:[{token:"string.attribute-value.xml",regex:'"',next:"pop"},{include:"attr_reference"},{defaultToken:"string.attribute-value.xml"}]}]},this.constructor===e&&this.normalizeRules()};(function(){this.embedTagRules=function(e,t,n){this.$rules.tag.unshift({token:["meta.tag.punctuation.tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(<)("+n+"(?=\\s|>|$))",next:[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:t+"start"}]}),this.$rules[n+"-end"]=[{include:"attributes"},{token:"meta.tag.punctuation.tag-close.xml",regex:"/?>",next:"start",onMatch:function(e,t,n){return n.splice(0),this.token}}],this.embedRules(e,t,[{token:["meta.tag.punctuation.end-tag-open.xml","meta.tag."+n+".tag-name.xml"],regex:"(</)("+n+"(?=\\s|>|$))",next:n+"-end"},{token:"string.cdata.xml",regex:"<\\!\\[CDATA\\["},{token:"string.cdata.xml",regex:"\\]\\]>"}])}}).call(r.prototype),o.inherits(a,r),t.XmlHighlightRules=a})),ace.define("ace/mode/behaviour/xml",["require","exports","module","ace/lib/oop","ace/mode/behaviour","ace/token_iterator","ace/lib/lang"],(function(e,t,n){"use strict";var o=e("../../lib/oop"),r=e("../behaviour").Behaviour,a=e("../../token_iterator").TokenIterator;e("../../lib/lang");function i(e,t){return e&&e.type.lastIndexOf(t+".xml")>-1}var c=function(){this.add("string_dquotes","insertion",(function(e,t,n,o,r){if('"'==r||"'"==r){var c=r,s=o.doc.getTextRange(n.getSelectionRange());if(""!==s&&"'"!==s&&'"'!=s&&n.getWrapBehavioursEnabled())return{text:c+s+c,selection:!1};var l=n.getCursorPosition(),u=o.doc.getLine(l.row).substring(l.column,l.column+1),d=new a(o,l.row,l.column),g=d.getCurrentToken();if(u==c&&(i(g,"attribute-value")||i(g,"string")))return{text:"",selection:[1,1]};if(g||(g=d.stepBackward()),!g)return;for(;i(g,"tag-whitespace")||i(g,"whitespace");)g=d.stepBackward();var m=!u||u.match(/\s/);if(i(g,"attribute-equals")&&(m||">"==u)||i(g,"decl-attribute-equals")&&(m||"?"==u))return{text:c+c,selection:[1,1]}}})),this.add("string_dquotes","deletion",(function(e,t,n,o,r){var a=o.doc.getTextRange(r);if(!r.isMultiLine()&&('"'==a||"'"==a)&&o.doc.getLine(r.start.row).substring(r.start.column+1,r.start.column+2)==a)return r.end.column++,r})),this.add("autoclosing","insertion",(function(e,t,n,o,r){if(">"==r){var c=n.getSelectionRange().start,s=new a(o,c.row,c.column),l=s.getCurrentToken()||s.stepBackward();if(!l||!(i(l,"tag-name")||i(l,"tag-whitespace")||i(l,"attribute-name")||i(l,"attribute-equals")||i(l,"attribute-value")))return;if(i(l,"reference.attribute-value"))return;if(i(l,"attribute-value")){var u=s.getCurrentTokenColumn()+l.value.length;if(c.column<u)return;if(c.column==u){var d=s.stepForward();if(d&&i(d,"attribute-value"))return;s.stepBackward()}}if(/^\s*>/.test(o.getLine(c.row).slice(c.column)))return;for(;!i(l,"tag-name");)if("<"==(l=s.stepBackward()).value){l=s.stepForward();break}var g=s.getCurrentTokenRow(),m=s.getCurrentTokenColumn();if(i(s.stepBackward(),"end-tag-open"))return;var f=l.value;if(g==c.row&&(f=f.substring(0,c.column-m)),this.voidElements.hasOwnProperty(f.toLowerCase()))return;return{text:"></"+f+">",selection:[1,1]}}})),this.add("autoindent","insertion",(function(e,t,n,o,r){if("\n"==r){var i=n.getCursorPosition(),c=o.getLine(i.row),s=new a(o,i.row,i.column),l=s.getCurrentToken();if(l&&-1!==l.type.indexOf("tag-close")){if("/>"==l.value)return;for(;l&&-1===l.type.indexOf("tag-name");)l=s.stepBackward();if(!l)return;var u=l.value,d=s.getCurrentTokenRow();if(!(l=s.stepBackward())||-1!==l.type.indexOf("end-tag"))return;if(this.voidElements&&!this.voidElements[u]){var g=o.getTokenAt(i.row,i.column+1),m=(c=o.getLine(d),this.$getIndent(c)),f=m+o.getTabString();return g&&"</"===g.value?{text:"\n"+f+"\n"+m,selection:[1,f.length,1,f.length]}:{text:"\n"+f}}}}}))};o.inherits(c,r),t.XmlBehaviour=c})),ace.define("ace/mode/folding/xml",["require","exports","module","ace/lib/oop","ace/range","ace/mode/folding/fold_mode"],(function(e,t,n){"use strict";var o=e("../../lib/oop"),r=e("../../range").Range,a=e("./fold_mode").FoldMode,i=t.FoldMode=function(e,t){a.call(this),this.voidElements=e||{},this.optionalEndTags=o.mixin({},this.voidElements),t&&o.mixin(this.optionalEndTags,t)};o.inherits(i,a);var c=function(){this.tagName="",this.closing=!1,this.selfClosing=!1,this.start={row:0,column:0},this.end={row:0,column:0}};function s(e,t){return e.type.lastIndexOf(t+".xml")>-1}(function(){this.getFoldWidget=function(e,t,n){var o=this._getFirstTagInLine(e,n);return o?o.closing||!o.tagName&&o.selfClosing?"markbeginend"===t?"end":"":!o.tagName||o.selfClosing||this.voidElements.hasOwnProperty(o.tagName.toLowerCase())||this._findEndTagInLine(e,n,o.tagName,o.end.column)?"":"start":this.getCommentFoldWidget(e,n)},this.getCommentFoldWidget=function(e,t){return/comment/.test(e.getState(t))&&/<!-/.test(e.getLine(t))?"start":""},this._getFirstTagInLine=function(e,t){for(var n=e.getTokens(t),o=new c,r=0;r<n.length;r++){var a=n[r];if(s(a,"tag-open")){if(o.end.column=o.start.column+a.value.length,o.closing=s(a,"end-tag-open"),!(a=n[++r]))return null;for(o.tagName=a.value,o.end.column+=a.value.length,r++;r<n.length;r++)if(a=n[r],o.end.column+=a.value.length,s(a,"tag-close")){o.selfClosing="/>"==a.value;break}return o}if(s(a,"tag-close"))return o.selfClosing="/>"==a.value,o;o.start.column+=a.value.length}return null},this._findEndTagInLine=function(e,t,n,o){for(var r=e.getTokens(t),a=0,i=0;i<r.length;i++){var c=r[i];if(!((a+=c.value.length)<o)&&s(c,"end-tag-open")&&(c=r[i+1])&&c.value==n)return!0}return!1},this.getFoldWidgetRange=function(e,t,n){var o=e.getMatchingTags({row:n,column:0});return o?new r(o.openTag.end.row,o.openTag.end.column,o.closeTag.start.row,o.closeTag.start.column):this.getCommentFoldWidget(e,n)&&e.getCommentFoldRange(n,e.getLine(n).length)}}).call(i.prototype)})),ace.define("ace/mode/xml",["require","exports","module","ace/lib/oop","ace/lib/lang","ace/mode/text","ace/mode/xml_highlight_rules","ace/mode/behaviour/xml","ace/mode/folding/xml","ace/worker/worker_client"],(function(e,t,n){"use strict";var o=e("../lib/oop"),r=e("../lib/lang"),a=e("./text").Mode,i=e("./xml_highlight_rules").XmlHighlightRules,c=e("./behaviour/xml").XmlBehaviour,s=e("./folding/xml").FoldMode,l=e("../worker/worker_client").WorkerClient,u=function(){this.HighlightRules=i,this.$behaviour=new c,this.foldingRules=new s};o.inherits(u,a),function(){this.voidElements=r.arrayToMap([]),this.blockComment={start:"\x3c!--",end:"--\x3e"},this.createWorker=function(e){var t=new l(["ace"],"ace/mode/xml_worker","Worker");return t.attachToDocument(e.getDocument()),t.on("error",(function(t){e.setAnnotations(t.data)})),t.on("terminate",(function(){e.clearAnnotations()})),t},this.$id="ace/mode/xml"}.call(u.prototype),t.Mode=u})),ace.require(["ace/mode/xml"],(function(t){e&&(e.exports=t)}))},8656:function(e,t,n){e=n.nmd(e),ace.define("ace/theme/chaos.css",["require","exports","module"],(function(e,t,n){n.exports=".ace-chaos .ace_gutter {\n  background: #141414;\n  color: #595959;\n  border-right: 1px solid #282828;\n}\n.ace-chaos .ace_gutter-cell.ace_warning {\n  background-image: none;\n  background: #FC0;\n  border-left: none;\n  padding-left: 0;\n  color: #000;\n}\n.ace-chaos .ace_gutter-cell.ace_error {\n  background-position: -6px center;\n  background-image: none;\n  background: #F10;\n  border-left: none;\n  padding-left: 0;\n  color: #000;\n}\n.ace-chaos .ace_print-margin {\n  border-left: 1px solid #555;\n  right: 0;\n  background: #1D1D1D;\n}\n.ace-chaos {\n  background-color: #161616;\n  color: #E6E1DC;\n}\n\n.ace-chaos .ace_cursor {\n  border-left: 2px solid #FFFFFF;\n}\n.ace-chaos .ace_cursor.ace_overwrite {\n  border-left: 0px;\n  border-bottom: 1px solid #FFFFFF;\n}\n.ace-chaos .ace_marker-layer .ace_selection {\n  background: #494836;\n}\n.ace-chaos .ace_marker-layer .ace_step {\n  background: rgb(198, 219, 174);\n}\n.ace-chaos .ace_marker-layer .ace_bracket {\n  margin: -1px 0 0 -1px;\n  border: 1px solid #FCE94F;\n}\n.ace-chaos .ace_marker-layer .ace_active-line {\n  background: #333;\n}\n.ace-chaos .ace_gutter-active-line {\n  background-color: #222;\n}\n.ace-chaos .ace_invisible {\n  color: #404040;\n}\n.ace-chaos .ace_keyword {\n  color:#00698F;\n}\n.ace-chaos .ace_keyword.ace_operator {\n  color:#FF308F;\n}\n.ace-chaos .ace_constant {\n  color:#1EDAFB;\n}\n.ace-chaos .ace_constant.ace_language {\n  color:#FDC251;\n}\n.ace-chaos .ace_constant.ace_library {\n  color:#8DFF0A;\n}\n.ace-chaos .ace_constant.ace_numeric {\n  color:#58C554;\n}\n.ace-chaos .ace_invalid {\n  color:#FFFFFF;\n  background-color:#990000;\n}\n.ace-chaos .ace_invalid.ace_deprecated {\n  color:#FFFFFF;\n  background-color:#990000;\n}\n.ace-chaos .ace_support {\n  color: #999;\n}\n.ace-chaos .ace_support.ace_function {\n  color:#00AEEF;\n}\n.ace-chaos .ace_function {\n  color:#00AEEF;\n}\n.ace-chaos .ace_string {\n  color:#58C554;\n}\n.ace-chaos .ace_comment {\n  color:#555;\n  font-style:italic;\n  padding-bottom: 0px;\n}\n.ace-chaos .ace_variable {\n  color:#997744;\n}\n.ace-chaos .ace_meta.ace_tag {\n  color:#BE53E6;\n}\n.ace-chaos .ace_entity.ace_other.ace_attribute-name {\n  color:#FFFF89;\n}\n.ace-chaos .ace_markup.ace_underline {\n  text-decoration: underline;\n}\n.ace-chaos .ace_fold-widget {\n  text-align: center;\n}\n\n.ace-chaos .ace_fold-widget:hover {\n  color: #777;\n}\n\n.ace-chaos .ace_fold-widget.ace_start,\n.ace-chaos .ace_fold-widget.ace_end,\n.ace-chaos .ace_fold-widget.ace_closed{\n  background: none !important;\n  border: none;\n  box-shadow: none;\n}\n\n.ace-chaos .ace_fold-widget.ace_start:after {\n  content: '\u25be'\n}\n\n.ace-chaos .ace_fold-widget.ace_end:after {\n  content: '\u25b4'\n}\n\n.ace-chaos .ace_fold-widget.ace_closed:after {\n  content: '\u2023'\n}\n\n.ace-chaos .ace_indent-guide {\n  border-right:1px dotted #333333;\n  margin-right:-1px;\n}\n\n.ace-chaos .ace_indent-guide-active {\n  border-right:1px dotted #afafaf;\n  margin-right:-1px;\n}\n\n.ace-chaos .ace_fold { \n  background: #222; \n  border-radius: 3px; \n  color: #7AF; \n  border: none; \n}\n.ace-chaos .ace_fold:hover {\n  background: #CCC; \n  color: #000;\n}\n"})),ace.define("ace/theme/chaos",["require","exports","module","ace/theme/chaos.css","ace/lib/dom"],(function(e,t,n){t.isDark=!0,t.cssClass="ace-chaos",t.cssText=e("./chaos.css"),e("../lib/dom").importCssString(t.cssText,t.cssClass,!1)})),ace.require(["ace/theme/chaos"],(function(t){e&&(e.exports=t)}))},6284:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});var o,r=n(9439),a=n(7313),i=n(3233),c=function(){if(!(0,i.Z)()||!window.document.documentElement)return!1;if(void 0!==o)return o;var e=document.createElement("div");return e.style.display="flex",e.style.flexDirection="column",e.style.rowGap="1px",e.appendChild(document.createElement("div")),e.appendChild(document.createElement("div")),document.body.appendChild(e),o=1===e.scrollHeight,document.body.removeChild(e),o},s=function(){var e=a.useState(!1),t=(0,r.Z)(e,2),n=t[0],o=t[1];return a.useEffect((function(){o(c())}),[]),n}},979:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var o=n(7462),r=n(4942),a=n(9439),i=n(4925),c=n(8006),s=n(6123),l=n.n(s),u=n(6945),d=n(7313),g=n(9242),m=n(5557),f=g.Z.ESC,h=g.Z.TAB;var p=(0,d.forwardRef)((function(e,t){var n=e.overlay,o=e.arrow,r=e.prefixCls,a=(0,d.useMemo)((function(){return"function"===typeof n?n():n}),[n]),i=(0,u.sQ)(t,null===a||void 0===a?void 0:a.ref);return d.createElement(d.Fragment,null,o&&d.createElement("div",{className:"".concat(r,"-arrow")}),d.cloneElement(a,{ref:(0,u.Yr)(a)?i:void 0}))})),x={adjustX:1,adjustY:1},v=[0,0],b={topLeft:{points:["bl","tl"],overflow:x,offset:[0,-4],targetOffset:v},top:{points:["bc","tc"],overflow:x,offset:[0,-4],targetOffset:v},topRight:{points:["br","tr"],overflow:x,offset:[0,-4],targetOffset:v},bottomLeft:{points:["tl","bl"],overflow:x,offset:[0,4],targetOffset:v},bottom:{points:["tc","bc"],overflow:x,offset:[0,4],targetOffset:v},bottomRight:{points:["tr","br"],overflow:x,offset:[0,4],targetOffset:v}},k=["arrow","prefixCls","transitionName","animation","align","placement","placements","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","visible","trigger","autoFocus","overlay","children","onVisibleChange"];function w(e,t){var n,s=e.arrow,g=void 0!==s&&s,x=e.prefixCls,v=void 0===x?"rc-dropdown":x,w=e.transitionName,_=e.animation,y=e.align,C=e.placement,F=void 0===C?"bottomLeft":C,T=e.placements,E=void 0===T?b:T,A=e.getPopupContainer,R=e.showAction,Z=e.hideAction,S=e.overlayClassName,L=e.overlayStyle,j=e.visible,P=e.trigger,O=void 0===P?["hover"]:P,M=e.autoFocus,q=e.overlay,N=e.children,W=e.onVisibleChange,B=(0,i.Z)(e,k),D=d.useState(),I=(0,a.Z)(D,2),$=I[0],z=I[1],H="visible"in e?j:$,V=d.useRef(null),X=d.useRef(null),Y=d.useRef(null);d.useImperativeHandle(t,(function(){return V.current}));var U=function(e){z(e),null===W||void 0===W||W(e)};!function(e){var t=e.visible,n=e.triggerRef,o=e.onVisibleChange,r=e.autoFocus,a=e.overlayRef,i=d.useRef(!1),c=function(){var e,r;t&&(null===(e=n.current)||void 0===e||null===(r=e.focus)||void 0===r||r.call(e),null===o||void 0===o||o(!1))},s=function(){var e;return!(null===(e=a.current)||void 0===e||!e.focus)&&(a.current.focus(),i.current=!0,!0)},l=function(e){switch(e.keyCode){case f:c();break;case h:var t=!1;i.current||(t=s()),t?e.preventDefault():c()}};d.useEffect((function(){return t?(window.addEventListener("keydown",l),r&&(0,m.Z)(s,3),function(){window.removeEventListener("keydown",l),i.current=!1}):function(){i.current=!1}}),[t])}({visible:H,triggerRef:Y,onVisibleChange:U,autoFocus:M,overlayRef:X});var Q=function(){return d.createElement(p,{ref:X,overlay:q,prefixCls:v,arrow:g})},G=d.cloneElement(N,{className:l()(null===(n=N.props)||void 0===n?void 0:n.className,H&&function(){var t=e.openClassName;return void 0!==t?t:"".concat(v,"-open")}()),ref:(0,u.Yr)(N)?(0,u.sQ)(Y,N.ref):void 0}),J=Z;return J||-1===O.indexOf("contextMenu")||(J=["click"]),d.createElement(c.Z,(0,o.Z)({builtinPlacements:E},B,{prefixCls:v,ref:V,popupClassName:l()(S,(0,r.Z)({},"".concat(v,"-show-arrow"),g)),popupStyle:L,action:O,showAction:R,hideAction:J,popupPlacement:F,popupAlign:y,popupTransitionName:w,popupAnimation:_,popupVisible:H,stretch:function(){var t=e.minOverlayWidthMatchTrigger,n=e.alignPoint;return"minOverlayWidthMatchTrigger"in e?t:!n}()?"minWidth":"",popup:"function"===typeof q?Q:Q(),onPopupVisibleChange:U,onPopupClick:function(t){var n=e.onOverlayClick;z(!1),n&&n(t)},getPopupContainer:A}),G)}var _=d.forwardRef(w)}}]);