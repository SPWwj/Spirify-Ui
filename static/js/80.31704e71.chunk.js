"use strict";(self.webpackChunkspirify=self.webpackChunkspirify||[]).push([[80],{4900:function(e,t,n){n.d(t,{Z:function(){return A}});var r=n(3433),a=n(9439),i=n(2791),s=n(7846),o=n(9389),c=n(8764),u=n(2014),l=n(2706),p=n(7943),d=n(9004),f=n(4165),h=n(5861),m=n(4942),g=n(6517),v=n(2351),Z=n(5671),y=n(3144),x=n(4432),b=function(){function e(){(0,Z.Z)(this,e)}return(0,y.Z)(e,null,[{key:"uploadFile",value:function(){var e=(0,h.Z)((0,f.Z)().mark((function e(t){var n,r;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=new FormData).append("file",t),e.next=4,x.Z.getInstance().getAxiosInstance().post("/api/Upload",n,{headers:{"Content-Type":"multipart/form-data"}});case 4:return r=e.sent,e.abrupt("return",r.data);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteFile",value:function(){var e=(0,h.Z)((0,f.Z)().mark((function e(t){var n,r;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.replace(x.Z.BASE_URL,""),e.next=3,x.Z.getInstance().getAxiosInstance().delete("/api/upload?filePath=".concat(n));case 3:return r=e.sent,e.abrupt("return",r.data);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),w=b,k=n(184),j=function(e){var t=e.form,n=e.fieldName,r=(0,i.useState)(null),s=(0,a.Z)(r,2),o=s[0],c=s[1],u=function(){var e=(0,h.Z)((0,f.Z)().mark((function e(){return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!o){e.next=6;break}return e.next=4,w.deleteFile(o);case 4:c(null),t.setFieldsValue((0,m.Z)({},n,null));case 6:e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(){return e.apply(this,arguments)}}(),l=function(){var e=(0,h.Z)((0,f.Z)().mark((function e(t){var n,r,a,i;return(0,f.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.file,t.onProgress,r=t.onSuccess,a=t.onError,e.prev=1,e.next=4,w.uploadFile(n);case 4:i=e.sent,r(i,n),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),a(e.t0);case 11:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(t){return e.apply(this,arguments)}}();return(0,k.jsx)(g.Z,{name:"logo",customRequest:l,listType:"picture",onRemove:u,onChange:function(e){if("done"===e.file.status){var r=e.file.response.filePath;c(r),t.setFieldsValue((0,m.Z)({},n,r))}},children:(0,k.jsx)(d.ZP,{icon:(0,k.jsx)(v.Z,{}),children:"Click to upload"})})},A=function(e){var t=e.fields,n=e.onFinish,i=e.initialValues,f=s.Z.useForm(),h=(0,a.Z)(f,1)[0],m=function(e,t){var n,a=t?[].concat((0,r.Z)(t),[e.name]):[e.name];switch(e.type){case"textarea":n=(0,k.jsx)(o.Z.TextArea,{});break;case"date":n=(0,k.jsx)(c.Z,{format:"YYYY-MM-DD",showTime:!1});break;case"checkbox":n=(0,k.jsx)(u.Z,{});break;case"number":n=(0,k.jsx)(l.Z,{});break;case"time":n=(0,k.jsx)(p.Z,{});break;case"datetime":n=(0,k.jsx)(c.Z,{showTime:!0});break;case"image":n=(0,k.jsx)(s.Z.Item,{valuePropName:"fileList",extra:"Image Preview",children:(0,k.jsx)(j,{form:h,fieldName:e.name})});break;default:n=(0,k.jsx)(o.Z,{})}return(0,k.jsx)(s.Z.Item,{name:a,label:e.label,rules:e.rules,children:n},a.join("."))};return(0,k.jsxs)(s.Z,{form:h,layout:"vertical",onFinish:n,initialValues:i,encType:"multipart/form-data",children:[function(e,t){return e.map((function(e){return"object"===e.type&&e.fields?e.fields.map((function(n){return m(n,t?[].concat((0,r.Z)(t),[e.name]):[e.name])})):m(e,t)}))}(t),(0,k.jsx)(s.Z.Item,{children:(0,k.jsx)("div",{style:{textAlign:"right"},children:(0,k.jsx)(d.ZP,{type:"primary",htmlType:"submit",children:"Submit"})})})]})}},4022:function(e,t,n){n.r(t),n.d(t,{default:function(){return h}});var r=n(4165),a=n(5861),i=(n(2791),n(3655)),s=n(7689),o="AttractionFormPage_attractionFormPage__UXSFc",c=n(4900),u=n(7892),l=n.n(u),p=n(1873),d=n(184),f={id:2,name:"The Singapore Rail Corridor",overview:"The Singapore Rail Corridor is a green corridor that runs the length of Singapore, from the North to the South, where the old railway tracks of the Keretapi Tanah Melayu (KTM) used to be.",description:"Stretching across 24 km, the Singapore Rail Corridor is a shared space where communities can gather and participate in a range of recreational activities. This linear park cuts through various residential and business areas, showcasing the contrast between Singapore's lush greenery and its urban environment. \n    The Rail Corridor is perfect for cycling, jogging, walking, and observing nature. It's also an important refuge for native fauna and flora. The trail's key attractions include the conserved Bukit Timah Railway Station and the iconic steel truss railway bridges.",openingDate:"2011-07-01",location:"Across Singapore",category:"Nature, Park, Recreation, and History",targetAudience:"Tourists, Locals, Nature Enthusiasts, Historians, Fitness Enthusiasts",address:{street:"Rail Corridor",city:"Singapore",state:"Singapore",country:"Singapore",zipCode:""}},h=function(){var e=(0,s.s0)(),t={name:f.name,overview:f.overview,description:f.description,address:{street:f.address.street,city:f.address.city,state:f.address.state,country:f.address.country,zipCode:f.address.zipCode},price:f.price,location:f.location,category:f.category,targetAudience:f.targetAudience,openingDate:l()(f.openingDate)},n=function(){var t=(0,a.Z)((0,r.Z)().mark((function t(n){return(0,r.Z)().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return console.log(n),t.prev=1,n.openingDate&&(n.openingDate=l()(n.openingDate).format("YYYY-MM-DD")),t.next=5,p.Z.addAttraction(n);case 5:e("/dashboard/attraction/"),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(1),console.error("An error occurred while creating the attraction:",t.t0);case 11:case"end":return t.stop()}}),t,null,[[1,8]])})));return function(e){return t.apply(this,arguments)}}();return(0,d.jsxs)("div",{className:o,children:[(0,d.jsx)(i.Z.Title,{children:"Add a new Attraction"}),(0,d.jsx)(c.Z,{onFinish:n,fields:[{name:"name",label:"Name",rules:[{required:!0,message:"Please input the attraction name!"}],type:"input"},{name:"image",label:"Image",type:"image"},{name:"overview",label:"Overview",rules:[{required:!0,message:"Please input the attraction overview!"}],type:"textarea"},{name:"description",label:"Description",type:"textarea"},{name:"address",label:"Address",type:"object",fields:[{name:"street",label:"Street",rules:[{required:!0,message:"Please input the street!"}],type:"input"},{name:"city",label:"City",rules:[{required:!0,message:"Please input the city!"}],type:"input"},{name:"state",label:"State",rules:[{required:!0,message:"Please input the state!"}],type:"input"},{name:"country",label:"Country",rules:[{required:!0,message:"Please input the country!"}],type:"input"},{name:"zipCode",label:"Zip Code",rules:[{required:!0,message:"Please input the zip code!"}],type:"input"}]},{name:"price",label:"Price",type:"number"},{name:"location",label:"Location",type:"input"},{name:"category",label:"Category",type:"input"},{name:"targetAudience",label:"Target Audience",type:"input"},{name:"openingDate",label:"Opening Date",type:"date"}],initialValues:t})]})}},1873:function(e,t,n){var r=n(4165),a=n(5861),i=n(5671),s=n(3144),o=n(4432),c=function(){function e(){(0,i.Z)(this,e),this.axiosInstance=void 0,this.axiosInstance=o.Z.getInstance().getAxiosInstance()}return(0,s.Z)(e,[{key:"addAttraction",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axiosInstance.post("/api/attraction/add",t);case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"getAttraction",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axiosInstance.get("/api/attraction/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"deleteAttraction",value:function(){var e=(0,a.Z)((0,r.Z)().mark((function e(t){var n;return(0,r.Z)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this.axiosInstance.delete("/api/attraction/".concat(t));case 2:return n=e.sent,e.abrupt("return",n.data);case 4:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()}]),e}(),u=new c;t.Z=u},7557:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7462),a=n(2791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm193.5 301.7l-210.6 292a31.8 31.8 0 01-51.7 0L318.5 484.9c-3.8-5.3 0-12.7 6.5-12.7h46.9c10.2 0 19.9 4.9 25.9 13.3l71.2 98.8 157.2-218c6-8.3 15.6-13.3 25.9-13.3H699c6.5 0 10.3 7.4 6.5 12.7z"}}]},name:"check-circle",theme:"filled"},s=n(4291),o=function(e,t){return a.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=a.forwardRef(o)},187:function(e,t,n){n.d(t,{Z:function(){return c}});var r=n(7462),a=n(2791),i={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm-32 232c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v272c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V296zm32 440a48.01 48.01 0 010-96 48.01 48.01 0 010 96z"}}]},name:"exclamation-circle",theme:"filled"},s=n(4291),o=function(e,t){return a.createElement(s.Z,(0,r.Z)({},e,{ref:t,icon:i}))};var c=a.forwardRef(o)}}]);
//# sourceMappingURL=80.31704e71.chunk.js.map