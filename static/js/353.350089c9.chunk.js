"use strict";(self.webpackChunkspirify=self.webpackChunkspirify||[]).push([[353],{3588:function(e,n,t){t.r(n),t.d(n,{default:function(){return _}});var c=t(3433),o=t(9439),r=t(2791),s=t(5671),i=t(3144),a=t(4598),u=t(1871),f=t(3645),v=t(4432),l=function(){function e(){(0,s.Z)(this,e),this.connection=void 0,this.connection=(new a.s).withUrl("".concat(v.Z.BASE_URL,"/chatHub"),{accessTokenFactory:function(){var e=f.Z.getAccessToken();return e||""}}).configureLogging(u.i.Information).build(),this.connection.start().then((function(){return console.log("Connection started")})).catch((function(e){return console.log("Error while starting connection: "+e)}))}return(0,i.Z)(e,[{key:"registerOnServerEvents",value:function(e){this.connection.on("ReceiveMessage",e)}},{key:"removeOnServerEvents",value:function(e){this.connection.off("ReceiveMessage",e)}},{key:"send",value:function(e,n){this.connection.invoke("SendMessage",e,n)}}],[{key:"getInstance",value:function(){return e.instance||(e.instance=new e),e.instance}}]),e}();l.instance=void 0;var h=t(8792),g=t(9389),d=t(9004),m="ChatComponent_chatComponent__8Je4v",p="ChatComponent_messageList__oUSKb",C="ChatComponent_chatInput__SC6nX",k="ChatComponent_sendMessageButton__g3g3a",Z=t(184),_=function(){var e=(0,r.useState)(""),n=(0,o.Z)(e,2),t=n[0],s=n[1],i=(0,r.useState)([]),a=(0,o.Z)(i,2),u=a[0],f=a[1],v=(0,r.useRef)(l.getInstance());(0,r.useEffect)((function(){var e=v.current,n=function(e,n){f((function(t){return[].concat((0,c.Z)(t),["".concat(e,": ").concat(n)])})),console.log("Received message: ",n)};return e.registerOnServerEvents(n),function(){e.removeOnServerEvents(n)}}),[]);var _=function(){""!==t.trim()&&(v.current.send("user1",t),s(""))};return(0,Z.jsxs)("div",{className:m,children:[(0,Z.jsx)(h.ZP,{className:p,bordered:!0,dataSource:u,renderItem:function(e){return(0,Z.jsx)(h.ZP.Item,{children:e})}}),(0,Z.jsx)(g.Z,{className:C,type:"text",value:t,onChange:function(e){return s(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&_()}}),(0,Z.jsx)(d.ZP,{className:k,type:"primary",onClick:_,children:"Send Message"})]})}},7575:function(e,n,t){t.d(n,{Z:function(){return a}});var c=t(7462),o=t(2791),r={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M912 190h-69.9c-9.8 0-19.1 4.5-25.1 12.2L404.7 724.5 207 474a32 32 0 00-25.1-12.2H112c-6.7 0-10.4 7.7-6.3 12.9l273.9 347c12.8 16.2 37.4 16.2 50.3 0l488.4-618.9c4.1-5.1.4-12.8-6.3-12.8z"}}]},name:"check",theme:"outlined"},s=t(4291),i=function(e,n){return o.createElement(s.Z,(0,c.Z)({},e,{ref:n,icon:r}))};var a=o.forwardRef(i)}}]);
//# sourceMappingURL=353.350089c9.chunk.js.map